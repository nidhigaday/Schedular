<!DOCTYPE html>
<html lang="en">

<head>

	<title>Timetable Populator</title>
	<link rel="stylesheet" href="style.css">
	<script src="algonew.js"></script>
	<script src="jquery-1.12.0.min.js"></script>

	<style type="text/css">

.main {
width:200px;
border:1px solid black;
}

.month {
background-color:black;
font:bold 12px verdana;
color:white;
}

.daysofweek {
background-color:gray;
font:bold 12px verdana;
color:white;
}

.days {
font-size: 12px;
font-family:verdana;
color:black;
background-color: lightyellow;
padding: 2px;
}

.days #today{
font-weight: bold;
color: red;
}

</style>

</head>

<body>

	<header><h1>Timetable Populator</h1></header>

	<div class="container">
		<div class="algo">

			<div class="values">

				<!--<button id="months" onclick="monthFn()">Select Month</button>

				<!--used following function to display month option since input type = "month" is not supported by Firefox browser

				<script>
					var published = 0;
					function monthFn() {
						//var published = 0;
						var x = document.createElement("INPUT");
						x.setAttribute("type", "month");
						if (published===0){
							published +=1;
							document.getElementById("wkOne").appendChild(x);
						}
						console.log(x.month.value);
						/*if (x.value != '') {
							console.log(x.value);
						}*/
					}

				</script>

				<br>

-->
				Name of agent: <input type="text" id="inputName">
				Day off requested: <input type="number" id="inputDay">
				Week: <input type="number" id="inputWeek">

				<input type="button" id="button" value="Populate" onclick="myFunction();"/>


			<script type="text/javascript">

				function myFunction(){
				agentName=document.getElementById("inputName").value;
				agentDayReq=document.getElementById("inputDay").value;
				agentWeekReq=document.getElementById("inputWeek").value;
				//document.getElementById("inputName").reset();
				Populator(agentName, agentDayReq, agentWeekReq);

				}
			</script>

			</div>
		</div>

		<div class="viewSchedule">

<script type="text/javascript">

function buildCal(m, y, cM, cH, cDW, cD, brdr){
var mn=['January','February','March','April','May','June','July','August','September','October','November','December'];
var dim=[31,0,31,30,31,30,31,31,30,31,30,31];

var oD = new Date(y, m-1, 1); //DD replaced line to fix date bug when current day is 31st
oD.od=oD.getDay()+1; //DD replaced line to fix date bug when current day is 31st

var todaydate=new Date() //DD added
var scanfortoday=(y==todaydate.getFullYear() && m==todaydate.getMonth()+1)? todaydate.getDate() : 0 //DD added

dim[1]=(((oD.getFullYear()%100!=0)&&(oD.getFullYear()%4==0))||(oD.getFullYear()%400==0))?29:28;
var t='<div class="'+cM+'"><table class="'+cM+'" cols="7" cellpadding="0" border="'+brdr+'" cellspacing="0"><tr align="center">';
t+='<td colspan="7" align="center" class="'+cH+'">'+mn[m-1]+' - '+y+'</td></tr><tr align="center">';
for(s=0;s<7;s++)t+='<td class="'+cDW+'">'+"SMTWTFS".substr(s,1)+'</td>';
t+='</tr><tr align="center">';
for(i=1;i<=42;i++){
var x=((i-oD.od>=0)&&(i-oD.od<dim[m-1]))? i-oD.od+1 : '&nbsp;';
if (x==scanfortoday) //DD added
x='<span id="today">'+x+'</span>' //DD added
t+='<td class="'+cD+'">'+x+'</td>';
if(((i)%7==0)&&(i<36))t+='</tr><tr align="center">';
}
return t+='</tr></table></div>';
}


var todaydate=new Date()
var curmonth=todaydate.getMonth()+1 //get current month (1-12)
var curyear=todaydate.getFullYear() //get current year

document.write(buildCal(curmonth ,curyear, "main", "month", "daysofweek", "days", 1));
</script>


		</div>

	</div>

	<footer>&copy;nidhigaday2016<footer>

</body>

</html>